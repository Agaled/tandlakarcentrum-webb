<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kontakta oss – Åstorp Tandläkare Centrum</title>
    <!-- Standard favicon (för de flesta webbläsare) -->
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon.png">

    <!-- Apple (iOS, iPadOS) -->
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon.png">

    <!-- Android/Chrome/Samsung -->
    <link rel="icon" type="image/png" sizes="192x192" href="img/favicon.png">
    <link rel="icon" type="image/png" sizes="512x512" href="img/favicon.png">

    <!-- (valfritt men bra för PWA / Android) -->
    <link rel="manifest" href="site.webmanifest">

    <link rel="stylesheet" href="kontakt.css" />
    <script src="script.js" defer></script>

    <link rel="stylesheet" href="announcement.css">

    <link rel="stylesheet" href="new-header/slim-header.css">
    <script defer src="new-header/slim-header.js"></script>


</head>
<body>

<div id="header-placeholder"></div>

<section class="contact-section">
    <h2>Kontakta oss</h2>

    <div class="contact-intro">
        <p>
            Välkommen att kontakta oss! Har du frågor om våra behandlingar, önskar boka tid eller vill nå oss i något annat ärende?
            Fyll i formuläret nedan – vi återkommer inom <strong>24 timmar</strong>.
        </p>
        <p class="emergency-note">
            <strong>Observera:</strong> Vid akuta besvär är vi tillgängliga <strong>dygnet runt</strong>.
            Ring oss direkt på <strong class="phone-number">042-26 00 44</strong>.
        </p>
    </div>

    <!-- ✅ Kontaktformulär (AJAX-version) -->
    <form id="kontakt-form" class="contact-form">
        <div class="form-group">
            <label for="name">Namn</label>
            <input type="text" id="name" name="name" required />
        </div>

        <div class="form-group">
            <label for="email">E-post</label>
            <input type="email" id="email" name="email" required />
        </div>

        <div class="form-group">
            <label for="message">Meddelande</label>
            <textarea id="message" name="message" rows="5" required></textarea>
        </div>

        <button type="submit" class="button">Skicka meddelande</button>
    </form>

    <!-- ✅ Bekräftelse (visas efter lyckat skick) -->
    <div id="form-bekraftelse" class="confirmation-box" style="display: none;">
        <p>Tack för ditt meddelande! Vi har tagit emot det och återkommer så snart vi kan.</p>
        <p><strong>Vid akuta besvär – ring oss direkt på 042-26 00 44.</strong></p>
    </div>
</section>

<div id="footer-placeholder"></div>

<!-- ✅ JS som skickar via Formspree -->
<script>
    const form = document.getElementById("kontakt-form");
    const confirmationBox = document.getElementById("form-bekraftelse");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const formData = new FormData(form);
      const object = Object.fromEntries(formData);
      const json = JSON.stringify(object);

      try {
        const response = await fetch("https://formspree.io/f/mvgrggjo", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Accept: "application/json",
          },
          body: json,
        });

        if (response.ok) {
          form.style.display = "none";
          confirmationBox.style.display = "block";
        } else {
          alert("Något gick fel. Försök igen.");
        }
      } catch (error) {
        alert("Kunde inte skicka meddelandet. Kontrollera din uppkoppling.");
      }
    });
</script>

</body>
</html>
